<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>IVy command reference</title>
  <meta name="description" content="
IVy is a research tool intended to allow interactive development of protocols and their proofs of correctness and to provide a platform for developing and experimenting with automated proof techniques. In particular, IVy provides interactive visualization of automated proofs, and supports a use model in which the human protocol designer and the automated tool interact to expose errors and prove correctness.
">

  <link rel="stylesheet" href="css/main.css">
  <link rel="canonical" href="https://microsoft.github.io/ivyhttps://kenmcmil.github.io/ivy/commands.html">
  <link rel="alternate" type="application/rss+xml" title="IVy" href="https://microsoft.github.io/ivyhttps://kenmcmil.github.io/ivy/feed.xml">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="https://kenmcmil.github.io/">IVy</a>

    <nav class="site-nav">
      <a href="commands.html#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
        
          
        
          
          <a class="page-link" href="credits.html">Credits</a>
          
        
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="index.html">Home</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
          <div class="grid">
    
    <div class="unit three-fourths">


      <article class="post">

	<header class="post-header">
	  <h1 class="post-title">IVy command reference</h1>
	</header>

	<div class="post-content">
	  <p>IVy’s commands share a common argument syntax:</p>

<p><em>command</em> <em>option</em>=<em>value</em> … <em>file</em>.ivy</p>

<h2 id="common-options">Common options</h2>

<p>These options are common to all the IVy commands. In the following,
<code class="language-plaintext highlighter-rouge">name</code> represents a hierarchical IVy name, which may contain the <code class="language-plaintext highlighter-rouge">.</code>
character, and <code class="language-plaintext highlighter-rouge">boolean</code> represents a Boolean value <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">false</code>.</p>

<p><code class="language-plaintext highlighter-rouge">isolate=name</code></p>

<p>This options specifies the name of a isolate to verify or extract.</p>

<p><code class="language-plaintext highlighter-rouge">show_compiled=boolean</code></p>

<p>If true, this option causes a representation of the elaborated IVy
code to be printed before doing any other work. The elaborated code
reflects all the module instantiations as well as the various
transformations performed by IVy’s compiler to produce an
isolate. This is useful to see in detail what is contained in an
isolate.</p>

<p><code class="language-plaintext highlighter-rouge">pedantic=boolean</code></p>

<p>If true, certain optional warnings are enabled. The default value is false.</p>

<h2 id="commands">Commands</h2>

<h1 id="ivy_check">ivy_check</h1>

<p>This command checks the proof of an IVy program. This includes
checking all the invariants and program assertions as well as the
non-interference check which guarantees that the division of the proof
into isolates is sound. If a particular isolate is specified with the
<code class="language-plaintext highlighter-rouge">isolate</code> option, then only the guarantees of this isolate are
checked.  To guarantee correctness of the program, it must be checked
without the <code class="language-plaintext highlighter-rouge">isolate</code> option.</p>

<p>During checking, <code class="language-plaintext highlighter-rouge">ivy_check</code> prints a summary of the contents of each
isolate being verified, including all assumptions and guarantees. For
each check of a guarantee, <code class="language-plaintext highlighter-rouge">PASS</code> is printed if the check passes and
<code class="language-plaintext highlighter-rouge">FAIL</code> if it fails.</p>

<p>The options of the <code class="language-plaintext highlighter-rouge">ivy_check</code> command are:</p>

<p><code class="language-plaintext highlighter-rouge">diagnose=boolean</code></p>

<p>If true, this options causes the check to stop at the first guarantee
that fails. A counterexample for this guarantee is constructed and the
graphical counterexample viewer is launched to display the
counterexample. The default value is false.</p>

<p><code class="language-plaintext highlighter-rouge">trace=boolean</code></p>

<p>If true, this options causes the check to stop at the first guarantee
that fails. A counterexample for this guarantee is constructed and a
corresponding execution trace is printed on standard out. The trace is
formatted so that in an emacs compilation buffer, references to source
lines are active links. The printed trace can be more convenient than the
graphical counterexample viewer, especially if the state contains functions
or relations of arity greater than two. 
The default value is false.</p>

<p><code class="language-plaintext highlighter-rouge">summary=boolean</code></p>

<p>If true, this causes the summary to be printed, but no actual checking
occurs. The default value is false.</p>

<p><code class="language-plaintext highlighter-rouge">mutax=boolean</code></p>

<p>If true, the check on use of mutable symbols in axioms is
relaxed. This feature should be used with caution. In principle an
axiom should be a tautology, in which case it is safe to assert it
even if it contains mutable symbols. In practice, however, it is very
easy to rule out possible system behaviors by incorrect use of axioms.
The default value of this option is false.</p>

<p><code class="language-plaintext highlighter-rouge">interference=boolean</code></p>

<p>If false, the interference check is not applied. This feature is
unsound and should be applied only as a temporary measure. The default
value is true.</p>

<p><code class="language-plaintext highlighter-rouge">complete=logic</code></p>

<p>This option affects the behavior of the fragment checker that checkers
whether verification conditions are contained in the prover’s
decidable fragment. The possible values of <code class="language-plaintext highlighter-rouge">logic</code> are:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">epr</code> This is the “effectively propositional” fragment, which is extended to
include stratified use of function symbols.</li>
  <li><code class="language-plaintext highlighter-rouge">qf</code> This fragment allows interpreted theories of the prover, but no quantifiers.</li>
  <li><code class="language-plaintext highlighter-rouge">fo</code> This is unrestricted first-order logic modulo the prover’s theories.</li>
</ul>

<p>The last option does not guarantee decidability and may result in
significant instability of the prover. The default value is <code class="language-plaintext highlighter-rouge">epr</code>.</p>

<p><code class="language-plaintext highlighter-rouge">macro_finder=boolean</code></p>

<p>This option enables the “macro finder” option in Z3. This detects
quantified formulas that behave as macros, and eliminates them by
substitution. This option is usually helpful, but occasionally causes
Z3 to be very slow. The default is true.</p>

<p><code class="language-plaintext highlighter-rouge">incremental=boolean</code></p>

<p>If true, Z3 is used incrementally when checking invariants. Default is true.</p>

<p><code class="language-plaintext highlighter-rouge">seed=integer</code></p>

<p>Sets the random seed for the SMT solver.</p>

<h2 id="ivy_show">ivy_show</h2>

<p>This command prints the elaborated program (see the option
<code class="language-plaintext highlighter-rouge">show_compiled</code> above) and exits.</p>

<h2 id="ivy">ivy</h2>

<p>This command runs an interactive user interface for constructing
inductive invariants. The options are as follows:</p>

<p><code class="language-plaintext highlighter-rouge">ui=interface</code></p>

<p>Here, <code class="language-plaintext highlighter-rouge">interface</code> specifies the user interface for invariant construction. The values are:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">art</code> This interface supports interactive construct of an Abstract Reachability Tree.</li>
  <li><code class="language-plaintext highlighter-rouge">cti</code> This interface supports an interactive approach to invariant construction based
 on counterexamples to induction.</li>
</ul>

<p>The default value is <code class="language-plaintext highlighter-rouge">art</code>.</p>

<h2 id="ivy_to_cpp">ivy_to_cpp</h2>

<p>This command extracts an IVY program to C++. The <code class="language-plaintext highlighter-rouge">isolate</code> option in
this command usually references an ‘extract’ in the IVy program,
representing an implementation to be extracted. The options are:</p>

<p>`target={repl,test,class}”</p>

<p>The <code class="language-plaintext highlighter-rouge">ivy_to_cpp</code> command can extract code in several forms:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">repl</code> This is a a “read-eval-print” loop that reads calls to exported actions from the
command line and writes output on calls to imported actions.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">test</code> This composes the extract with a randomized tester.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">class</code> This produces only a C++ class representing the extract, without a main function.</p>
  </li>
</ul>

<p>There is no default value.</p>

<p><code class="language-plaintext highlighter-rouge">classname=cname</code></p>

<p>This gives the name of the extracted C++ class. The default is the
name of the main IVy file, without the <code class="language-plaintext highlighter-rouge">.ivy</code> extension. The names of
the extracted header and implementation files are <code class="language-plaintext highlighter-rouge">cname.h</code> and
<code class="language-plaintext highlighter-rouge">cname.cpp</code> respectively.</p>

<p><code class="language-plaintext highlighter-rouge">build=boolean</code></p>

<p>If true, this option causes the extracted C++ to be compiled. In case
of <code class="language-plaintext highlighter-rouge">repl</code> or <code class="language-plaintext highlighter-rouge">test</code> targets, the code is also linked into an
executable file. On Unix the name of the executable is the same as the
class name, whereas on Windows it is <code class="language-plaintext highlighter-rouge">cname.exe</code>, where <code class="language-plaintext highlighter-rouge">cname</code> is the
class name.</p>

<p><code class="language-plaintext highlighter-rouge">compiler={g++,cl}</code></p>

<p>This option determines the compiler used to build the code. The default is g++
on Unix and cl on Windows.</p>

<p><code class="language-plaintext highlighter-rouge">trace=boolean</code></p>

<p>This option causes statements producing trace information on stdout to
be inserted in the extracted code.</p>

<p><code class="language-plaintext highlighter-rouge">main=cname</code></p>

<p>Determines the name of the main function, if one is generated. The default is <code class="language-plaintext highlighter-rouge">main</code>.</p>

<p><code class="language-plaintext highlighter-rouge">stdafx=boolean</code></p>

<p>Causes the file <code class="language-plaintext highlighter-rouge">stdafx.h</code> to be included in the first line of the implementation file.</p>

<p><code class="language-plaintext highlighter-rouge">outdir=directory</code></p>

<p>Causes output files to be generated in <code class="language-plaintext highlighter-rouge">directory</code>. Default is the current directory.</p>


	</div>
	
      </article>

    </div>

    <div class="unit one-fourth hide-on-mobiles">
  <aside>
    
    <h4>Documentation</h4>
    <ul>

  
  
  <li class=""><a href="install.html">Installing IVy</a></li>

  
  
  <li class=""><a href="language.html">The Ivy language</a></li>

  
  
  <li class="current"><a href="commands.html">IVy command reference</a></li>

  
  
  <li class=""><a href="decidability.html">Decidability</a></li>

  
  
  <li class=""><a href="proving.html">IVy as a theorem prover</a></li>

</ul>

    
    <h4>IVy by example</h4>
    <ul>

  
  
  <li class=""><a href="examples/client_server_example.html">Invariants</a></li>

  
  
  <li class=""><a href="examples/specification.html">Specifications</a></li>

  
  
  <li class=""><a href="examples/datatypes.html">Abstract Datatypes</a></li>

  
  
  <li class=""><a href="examples/leader.html">Parameterized systems</a></li>

  
  
  <li class=""><a href="examples/helloworld.html">Hello, world!</a></li>

  
  
  <li class=""><a href="examples/networking.html">Networking</a></li>

  
  
  <li class=""><a href="examples/values.html">Concrete data</a></li>

  
  
  <li class=""><a href="examples/list_reverse.html">Deduction example: array reversal</a></li>

  
  
  <li class=""><a href="examples/indexset.html">Deduction example: majority</a></li>

  
  
  <li class=""><a href="examples/window.html">Example: sliding window</a></li>

  
  
  <li class=""><a href="examples/number_theory.html">Number theory</a></li>

</ul>

    
    <h4>Sharded Hash Table</h4>
    <ul>

  
  
  <li class=""><a href="examples/sht/sharded_hash_table.html">Introduction</a></li>

  
  
  <li class=""><a href="examples/sht/key.html">Keys</a></li>

  
  
  <li class=""><a href="examples/sht/shard.html">Shards</a></li>

  
  
  <li class=""><a href="examples/sht/table.html">Tables</a></li>

  
  
  <li class=""><a href="examples/sht/delmap.html">Delegation Map</a></li>

  
  
  <li class=""><a href="examples/sht/seqnum.html">Sequence Numbers</a></li>

  
  
  <li class=""><a href="examples/sht/queue.html">Message Queues</a></li>

  
  
  <li class=""><a href="examples/sht/trans.html">Transport Service</a></li>

  
  
  <li class=""><a href="examples/sht/reference.html">Reference object</a></li>

  
  
  <li class=""><a href="examples/sht/proto.html">Protocol</a></li>

  
  
  <li class=""><a href="examples/sht/sht.html">Final Assembly</a></li>

</ul>

    
    <h4>Compositional Testing</h4>
    <ul>

  
  
  <li class=""><a href="examples/testing/intro.html">Introduction</a></li>

  
  
  <li class=""><a href="examples/testing/specification.html">Specifications</a></li>

  
  
  <li class=""><a href="examples/testing/leader.html">Layered protocols</a></li>

</ul>

    
  </aside>
</div>


    <div class="clear"></div>

  </div>


      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>IVy</li>
          <li><a href="mailto:"></a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>
IVy is a research tool intended to allow interactive development of protocols and their proofs of correctness and to provide a platform for developing and experimenting with automated proof techniques. In particular, IVy provides interactive visualization of automated proofs, and supports a use model in which the human protocol designer and the automated tool interact to expose errors and prove correctness.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
